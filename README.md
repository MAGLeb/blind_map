# Blind Map — Тактильная карта для незрячих

3D-печатная карта для изучения географии на ощупь.

## Цель

Дать незрячему человеку возможность:
- Запомнить расположение стран
- Понять как страны граничат друг с другом
- Почувствовать рельеф (горы, равнины)

## Спецификация

### Размеры

| Параметр | Значение |
|----------|----------|
| Размер карты | 400×320 мм |
| Карточек для печати | 4 шт (2×2) |
| Размер карточки | 200×160 мм |
| Толщина основания | 3 мм |

### Регион

- Границы: 5°—70° в.д., 12°—55° с.ш.
- Включает: Балканы, Кавказ, Ближний Восток, Северная Африка
- ~80 стран

### Тактильные элементы

| Элемент | Высота | Ширина/Размер | Примечание |
|---------|--------|---------------|------------|
| **Границы стран** | 5 мм | 2.5 мм | Главный ориентир, самый высокий |
| **Рельеф** | 0—3 мм | — | Линейное масштабирование min→max |
| **Вода (море)** | 0.8 мм | волны через 4 мм | Горизонтальные параллельные линии |
| **Столицы** | 2 мм | ⌀3 мм | Полусфера (бугорок) |
| **Номера стран** | 1.5 мм | — | Выпуклые цифры рядом со столицей |

### Иерархия высот (от низкого к высокому)

```
0 мм   — уровень моря, низменности
0.8 мм — волны воды
3 мм   — максимальный рельеф (горы)
5 мм   — границы стран (всегда выше всего)
```

### Легенда

Отдельная карточка с:
- Номер → Название страны
- Образцы текстур (вода, суша, граница)

## Структура проекта

```
blind_map/
├── core/
│   ├── config.py              # Регион карты (MAP_BOUNDS)
│   ├── constants.py           # Тактильные параметры
│   ├── generate.py            # Главный скрипт генерации STL
│   └── prepare_2d_model/      # Подготовка данных
│       ├── download_geojson.py
│       └── merge_countries_geojson.py
├── data/
│   ├── input/                 # ETOPO1 данные высот
│   ├── output/                # Результаты (STL файлы)
│   └── countries/             # GeoJSON границ стран
└── README.md
```

## Запуск

### 1. Подготовка данных (один раз)

```bash
# Скачать границы стран
python3 core/prepare_2d_model/download_geojson.py

# Объединить в один файл
python3 core/prepare_2d_model/merge_countries_geojson.py

# Скачать данные высот (ETOPO1) вручную:
# https://www.ngdc.noaa.gov/mgg/global/relief/ETOPO1/data/bedrock/grid_registered/netcdf/
# Сохранить в data/input/ETOPO1_Bed_g_gmt4.grd
```

### 2. Генерация 3D модели

```bash
cd core
python3 generate.py
```

Результат: `data/output/tactile_map.stl` (~23 MB)

## Требования

```
Python 3.8+
geopandas
numpy
scipy
shapely
xarray
pyvista (или trimesh)
```

## TODO

- [x] Генерация STL (работает, ~23 MB)
- [ ] Добавить столицы с номерами
- [ ] Разбить на 4 карточки для печати
- [ ] Создать карточку-легенду
- [ ] Тестовая печать и валидация с пользователем
